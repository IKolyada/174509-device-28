let feedback=document.querySelector(".button-contacts"),modalPopup=document.querySelector(".modal-feedback"),modalForm=modalPopup.querySelector(".modal-form"),userName=modalForm.querySelector(".name"),userEmail=modalForm.querySelector(".email"),userMessage=modalForm.querySelector(".user-message"),close=modalPopup.querySelector(".modal-close"),modalInfo=modalPopup.querySelectorAll(".modal-text"),buttonFeedback=modalPopup.querySelector(".button-modal"),isStorageSupport=!0,storage="";try{storage=localStorage.getItem("email")}catch(a){isStorageSupport=!1}feedback.addEventListener("click",function(a){a.preventDefault(),modalPopup.classList.remove("hide"),userName.focus()}),close.addEventListener("click",function(a){a.preventDefault(),modalPopup.classList.add("hide")}),storage?(userName.value=storage,userEmail.value=storage,userMessage.focus()):userName.focus(),modalForm.addEventListener("submit",function(a){for(let b=0;b<modalInfo.length;b++)modalInfo[b].value?!modalInfo[1].value.includes("@")&&(a.preventDefault(),modalInfo[1].classList.add("modal-error")):(a.preventDefault(),modalInfo[b].classList.add("modal-error")),modalInfo[b].onfocus=function(){this.classList.remove("modal-error")};localStorage.setItem("name",userName.value),localStorage.setItem("e-mail",userEmail.value)});let map=document.querySelector(".button-map"),modalMap=document.querySelector(".modal-map"),closeMap=modalMap.querySelector(".modal-close");map.addEventListener("click",function(a){a.preventDefault(),modalMap.classList.remove("hide")}),closeMap.addEventListener("click",function(a){a.preventDefault(),modalMap.classList.add("hide")}),window.addEventListener("keydown",function(a){27===a.keyCode&&(modalMap.classList.add("hide"),modalPopup.classList.add("hide"))});